export const SPECIALTY_TRANSLATIONS = {
  cardiology: {
    en: ['cardiology', 'cardiologist', 'heart doctor', 'heart specialist'],
    fr: ['cardiologie', 'cardiologue', 'médecin du cœur', 'spécialiste du cœur'],
    ar: ['طب القلب', 'طبيب قلب', 'أخصائي القلب', 'دكتور قلب', 'طبيب القلب والأوعية الدموية']
  },
  
  dermatology: {
    en: ['dermatology', 'dermatologist', 'skin doctor', 'skin specialist'],
    fr: ['dermatologie', 'dermatologue', 'médecin de la peau', 'spécialiste de la peau'],
    ar: ['طب الجلد', 'طبيب جلدية', 'أخصائي الجلدية', 'دكتور جلدية', 'طبيب الجلدية']
  },
  
  pediatrics: {
    en: ['pediatrics', 'pediatrician', 'child doctor', 'children doctor', 'kids doctor'],
    fr: ['pédiatrie', 'pédiatre', 'médecin pour enfants', 'docteur enfants'],
    ar: ['طب الأطفال', 'طبيب أطفال', 'أخصائي الأطفال', 'دكتور أطفال', 'طبيب الصغار']
  },
  
  orthopedics: {
    en: ['orthopedics', 'orthopedist', 'bone doctor', 'joint doctor', 'orthopedic surgeon'],
    fr: ['orthopédie', 'orthopédiste', 'médecin des os', 'chirurgien orthopédique'],
    ar: ['طب العظام', 'طبيب عظام', 'أخصائي العظام', 'دكتور عظام', 'جراح العظام']
  },
  
  neurology: {
    en: ['neurology', 'neurologist', 'brain doctor', 'nerve doctor', 'neurological specialist'],
    fr: ['neurologie', 'neurologue', 'médecin du cerveau', 'spécialiste neurologique'],
    ar: ['طب الأعصاب', 'طبيب أعصاب', 'أخصائي الأعصاب', 'دكتور أعصاب', 'طبيب المخ والأعصاب']
  },
  
  psychiatry: {
    en: ['psychiatry', 'psychiatrist', 'mental health doctor', 'psychological doctor'],
    fr: ['psychiatrie', 'psychiatre', 'médecin de santé mentale', 'docteur psychologique'],
    ar: ['طب النفس', 'طبيب نفسي', 'أخصائي نفسي', 'دكتور نفسي', 'طبيب الأمراض النفسية']
  },
  
  'internal medicine': {
    en: ['internal medicine', 'internist', 'general medicine', 'family medicine', 'primary care'],
    fr: ['médecine interne', 'interniste', 'médecine générale', 'médecin généraliste'],
    ar: ['طب باطني', 'طبيب باطني', 'أخصائي باطني', 'دكتور باطني', 'الطب الباطني']
  },
  
  surgery: {
    en: ['surgery', 'surgeon', 'surgical specialist', 'general surgery'],
    fr: ['chirurgie', 'chirurgien', 'spécialiste chirurgical', 'chirurgie générale'],
    ar: ['جراحة', 'جراح', 'أخصائي جراحة', 'دكتور جراحة', 'طبيب جراح']
  },
  
  gynecology: {
    en: ['gynecology', 'gynecologist', 'women doctor', 'obstetrics', 'obstetrician'],
    fr: ['gynécologie', 'gynécologue', 'médecin femmes', 'obstétrique', 'obstétricien'],
    ar: ['طب نساء', 'طبيب نساء', 'أخصائي نساء', 'دكتور نساء وتوليد', 'طبيب النساء والتوليد']
  },
  
  ophthalmology: {
    en: ['ophthalmology', 'ophthalmologist', 'eye doctor', 'eye specialist'],
    fr: ['ophtalmologie', 'ophtalmologue', 'médecin des yeux', 'spécialiste des yeux'],
    ar: ['طب العيون', 'طبيب عيون', 'أخصائي العيون', 'دكتور عيون', 'طبيب الرمد']
  },
  
  otolaryngology: {
    en: ['otolaryngology', 'ent', 'ear nose throat', 'ent doctor', 'otolaryngologist'],
    fr: ['oto-rhino-laryngologie', 'orl', 'oreille nez gorge', 'médecin orl'],
    ar: ['أنف وأذن وحنجرة', 'طبيب أنف وأذن وحنجرة', 'أخصائي أنف وأذن وحنجرة', 'دكتور أنف وأذن وحنجرة']
  },
  
  radiology: {
    en: ['radiology', 'radiologist', 'imaging doctor', 'x-ray doctor'],
    fr: ['radiologie', 'radiologue', 'médecin imagerie', 'docteur radiologie'],
    ar: ['طب الأشعة', 'طبيب أشعة', 'أخصائي الأشعة', 'دكتور أشعة', 'طبيب التصوير الطبي']
  },
  
  dentistry: {
    en: ['dentistry', 'dentist', 'dental doctor', 'tooth doctor'],
    fr: ['dentisterie', 'dentiste', 'médecin dentaire', 'docteur dentaire'],
    ar: ['طب الأسنان', 'طبيب أسنان', 'أخصائي الأسنان', 'دكتور أسنان', 'طبيب الأسنان']
  },
  
  oncology: {
    en: ['oncology', 'oncologist', 'cancer doctor', 'cancer specialist'],
    fr: ['oncologie', 'oncologue', 'médecin cancer', 'spécialiste cancer'],
    ar: ['طب الأورام', 'طبيب أورام', 'أخصائي الأورام', 'دكتور أورام', 'طبيب السرطان']
  },
  
  gastroenterology: {
    en: ['gastroenterology', 'gastroenterologist', 'stomach doctor', 'digestive doctor'],
    fr: ['gastro-entérologie', 'gastro-entérologue', 'médecin estomac', 'médecin digestif'],
    ar: ['طب الجهاز الهضمي', 'طبيب جهاز هضمي', 'أخصائي الجهاز الهضمي', 'دكتور جهاز هضمي']
  },
  
  endocrinology: {
    en: ['endocrinology', 'endocrinologist', 'hormone doctor', 'diabetes doctor'],
    fr: ['endocrinologie', 'endocrinologue', 'médecin hormones', 'médecin diabète'],
    ar: ['طب الغدد الصماء', 'طبيب غدد صماء', 'أخصائي الغدد الصماء', 'دكتور غدد صماء', 'طبيب السكري']
  },
  
  pulmonology: {
    en: ['pulmonology', 'pulmonologist', 'lung doctor', 'respiratory doctor'],
    fr: ['pneumologie', 'pneumologue', 'médecin poumons', 'médecin respiratoire'],
    ar: ['طب الرئة', 'طبيب رئة', 'أخصائي الرئة', 'دكتور رئة', 'طبيب الجهاز التنفسي']
  },
  
  urology: {
    en: ['urology', 'urologist', 'kidney doctor', 'urinary doctor'],
    fr: ['urologie', 'urologue', 'médecin reins', 'médecin urinaire'],
    ar: ['طب المسالك البولية', 'طبيب مسالك بولية', 'أخصائي المسالك البولية', 'دكتور مسالك بولية']
  },
  
  anesthesiology: {
    en: ['anesthesiology', 'anesthesiologist', 'anesthesia doctor'],
    fr: ['anesthésiologie', 'anesthésiste', 'médecin anesthésie'],
    ar: ['طب التخدير', 'طبيب تخدير', 'أخصائي التخدير', 'دكتور تخدير']
  }
};

export const LOCATION_TRANSLATIONS = {
  // many to add in the future 
  // we mostly gonna focus on oujda for a first release
  casablanca: {
    en: ['casablanca', 'casa'],
    fr: ['casablanca', 'casa'],
    ar: ['الدار البيضاء', 'كازابلانكا', 'الدارالبيضاء']
  },
  
  rabat: {
    en: ['rabat'],
    fr: ['rabat'],
    ar: ['الرباط', 'رباط']
  },
  
  marrakech: {
    en: ['marrakech', 'marrakesh'],
    fr: ['marrakech', 'marrakesh'],
    ar: ['مراكش', 'مراكش الحمراء']
  },
  
  fez: {
    en: ['fez', 'fes'],
    fr: ['fès', 'fez'],
    ar: ['فاس', 'فاس البالي']
  },
  
  tangier: {
    en: ['tangier', 'tanger'],
    fr: ['tanger'],
    ar: ['طنجة', 'طنجا']
  },
  
  agadir: {
    en: ['agadir'],
    fr: ['agadir'],
    ar: ['أكادير', 'اكادير']
  },
  
  meknes: {
    en: ['meknes', 'meknès'],
    fr: ['meknès', 'meknes'],
    ar: ['مكناس', 'مكنس']
  },
  
  oujda: {
    en: ['oujda'],
    fr: ['oujda'],
    ar: ['وجدة', 'وجده']
  },
  
  kenitra: {
    en: ['kenitra'],
    fr: ['kénitra'],
    ar: ['القنيطرة', 'قنيطرة']
  },
  
  tetouan: {
    en: ['tetouan', 'tétouan'],
    fr: ['tétouan'],
    ar: ['تطوان', 'تيطاوين']
  },
  
  safi: {
    en: ['safi'],
    fr: ['safi'],
    ar: ['آسفي', 'اسفي']
  },
  
  mohammedia: {
    en: ['mohammedia'],
    fr: ['mohammedia'],
    ar: ['المحمدية', 'محمدية']
  },
  
  khouribga: {
    en: ['khouribga'],
    fr: ['khouribga'],
    ar: ['خريبكة', 'خريبگة']
  },
  
  beni_mellal: {
    en: ['beni mellal', 'beni-mellal'],
    fr: ['béni mellal', 'béni-mellal'],
    ar: ['بني ملال', 'بنيملال']
  },
  
  el_jadida: {
    en: ['el jadida', 'el-jadida'],
    fr: ['el jadida', 'el-jadida'],
    ar: ['الجديدة', 'جديدة']
  },
  
  nador: {
    en: ['nador'],
    fr: ['nador'],
    ar: ['الناظور', 'ناظور']
  },
  
  settat: {
    en: ['settat'],
    fr: ['settat'],
    ar: ['سطات', 'ستات']
  },
  
  larache: {
    en: ['larache'],
    fr: ['larache'],
    ar: ['العرائش', 'عرائش']
  },
  
  ksar_el_kebir: {
    en: ['ksar el kebir', 'ksar-el-kebir'],
    fr: ['ksar el kébir'],
    ar: ['القصر الكبير', 'قصر كبير']
  },
  
  khemisset: {
    en: ['khemisset'],
    fr: ['khémisset'],
    ar: ['الخميسات', 'خميسات']
  }
};

export const NAME_PATTERNS = {
  arabic: {
    prefixes: ['د.', 'دكتور', 'الدكتور', 'أ.د.', 'بروفيسور'],
    commonNames: ['محمد', 'أحمد', 'علي', 'حسن', 'عبد الله', 'عمر', 'يوسف', 'إبراهيم', 'خالد', 'عبد الرحمن']
  },
  french: {
    prefixes: ['Dr.', 'Docteur', 'Professeur', 'Prof.'],
    commonNames: ['Mohamed', 'Ahmed', 'Ali', 'Hassan', 'Omar', 'Youssef', 'Khalid', 'Abdellah']
  }
};


export const normalizeSearchTerm = (term) => {
  if (!term) return '';
  
  return term
    .toLowerCase()
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '')
    .replace(/[^\w\s\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/g, '')
    .trim();
};


export const findEnglishEquivalent = (searchTerm, currentLanguage = 'en') => {
  if (!searchTerm) return '';
  
  const normalizedTerm = normalizeSearchTerm(searchTerm);
  
  if (currentLanguage === 'en') return searchTerm;
  
  for (const [englishKey, translations] of Object.entries(SPECIALTY_TRANSLATIONS)) {
    const languageTerms = translations[currentLanguage] || [];
    
    for (const term of languageTerms) {
      const normalizedTranslation = normalizeSearchTerm(term);
      
      if (normalizedTranslation === normalizedTerm || 
          normalizedTranslation.includes(normalizedTerm) || 
          normalizedTerm.includes(normalizedTranslation)) {
        return englishKey;
      }
    }
  }
  
  for (const [englishKey, translations] of Object.entries(LOCATION_TRANSLATIONS)) {
    const languageTerms = translations[currentLanguage] || [];
    
    for (const term of languageTerms) {
      const normalizedTranslation = normalizeSearchTerm(term);
      if (normalizedTranslation === normalizedTerm || 
          normalizedTranslation.includes(normalizedTerm) || 
          normalizedTerm.includes(normalizedTranslation)) {
        return englishKey;
      }
    }
  }
  
  return searchTerm;
};

export const getAllTranslations = (englishTerm) => {
  const translations = new Set();
  
  translations.add(englishTerm.toLowerCase());
  
  const specialtyTranslations = SPECIALTY_TRANSLATIONS[englishTerm.toLowerCase()];
  if (specialtyTranslations) {
    Object.values(specialtyTranslations).flat().forEach(term => {
      translations.add(term.toLowerCase());
    });
  }
  
  const locationTranslations = LOCATION_TRANSLATIONS[englishTerm.toLowerCase()];
  if (locationTranslations) {
    Object.values(locationTranslations).flat().forEach(term => {
      translations.add(term.toLowerCase());
    });
  }
  
  return Array.from(translations);
};

export const translateSearchParams = (params, currentLanguage = 'en') => {
  if (currentLanguage === 'en') return params;
  
  const translatedParams = { ...params };
  
  if (params.specialty) {
    translatedParams.specialty = findEnglishEquivalent(params.specialty, currentLanguage);
  }
  
  if (params.location) {
    translatedParams.location = findEnglishEquivalent(params.location, currentLanguage);
  }
  
  return translatedParams;
};

export const getLocalizedSpecialty = (englishSpecialty, targetLanguage = 'en') => {
  if (targetLanguage === 'en') return englishSpecialty;
  
  const translations = SPECIALTY_TRANSLATIONS[englishSpecialty.toLowerCase()];
  if (translations && translations[targetLanguage]) {
    return translations[targetLanguage][0];
  }
  
  return englishSpecialty;
};

export const getLocalizedLocation = (englishLocation, targetLanguage = 'en') => {
  if (targetLanguage === 'en') return englishLocation;
  
  const translations = LOCATION_TRANSLATIONS[englishLocation.toLowerCase()];
  if (translations && translations[targetLanguage]) {
    return translations[targetLanguage][0];
  }
  
  return englishLocation;
};

export const getLocalizedSearchSuggestions = (language = 'en') => {
  const suggestions = [
    {
      specialty: 'internal medicine',
      keywords: {
        en: ['checkup', 'physical', 'routine', 'preventive'],
        fr: ['bilan', 'examen', 'routine', 'préventif'],
        ar: ['فحص', 'كشف', 'روتيني', 'وقائي']
      }
    },
    {
      specialty: 'cardiology',
      keywords: {
        en: ['chest pain', 'heart', 'palpitations', 'blood pressure'],
        fr: ['douleur thoracique', 'cœur', 'palpitations', 'tension'],
        ar: ['ألم صدر', 'قلب', 'خفقان', 'ضغط دم']
      }
    },
    {
      specialty: 'dermatology',
      keywords: {
        en: ['rash', 'acne', 'skin', 'mole', 'eczema'],
        fr: ['éruption', 'acné', 'peau', 'grain de beauté', 'eczéma'],
        ar: ['طفح', 'حب شباب', 'جلد', 'شامة', 'أكزيما']
      }
    },
    {
      specialty: 'psychiatry',
      keywords: {
        en: ['anxiety', 'depression', 'stress', 'mental health'],
        fr: ['anxiété', 'dépression', 'stress', 'santé mentale'],
        ar: ['قلق', 'اكتئاب', 'توتر', 'صحة نفسية']
      }
    }
  ];
  
  return suggestions.map(suggestion => ({
    ...suggestion,
    localizedSpecialty: getLocalizedSpecialty(suggestion.specialty, language),
    localizedKeywords: suggestion.keywords[language] || suggestion.keywords.en
  }));
};

const translationMapsDefault = {
  SPECIALTY_TRANSLATIONS,
  LOCATION_TRANSLATIONS,
  NAME_PATTERNS,
  normalizeSearchTerm,
  findEnglishEquivalent,
  getAllTranslations,
  translateSearchParams,
  getLocalizedSpecialty,
  getLocalizedLocation,
  getLocalizedSearchSuggestions
};

export default translationMapsDefault;
